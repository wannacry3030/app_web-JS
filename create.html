<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Criação de Postagem</title>
  </head>
  <body>
    <h1>Criação de Postagem</h1>
    <form action="#" method="post">
      <input
        type="text"
        id="titulo"
        name="titulo"
        placeholder="Título da postagem"
      />
      <input
        type="text"
        id="conteudo"
        name="conteudo"
        placeholder="Conteúdo da postagem"
      />
      <input type="submit" value="Criar" />
    </form>
    <script>
      const form = document.querySelector("#form-post");
      form.addEventListener("submit", (event) => {
        event.preventDefault();
        const titulo = document.querySelector("#titulo").value;
        const conteudo = document.querySelector("#conteudo").value;

        fetch("/postagens", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ titulo, conteudo }),
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data.message);
            form.reset();
          });
      });
    </script>
  </body>
</html>
